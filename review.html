<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Milkkk</title>
    <link rel="stylesheet" type="text/css" href="review.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>


</head>

<body>
   
    <section class="main">

        <!-- <div class="fix"> -->
                <div class="title">
                    M<br>I<br>L<br>K<br>O<br>W
                </div>
                <nav>
                    <ul >
                        <li role="presentation"  ><a href="./about.html">about me</a></li>
                        <li role="presentation" ><a href="./shop.html">milk shop </a></li>
                        <li role="presentation" class="active"><a href="./review.html">review</a></li>
                        
                        </li>
                    </ul>

                </nav>
        <!-- </div> -->
        
        <section class="cardbody">
            <h1 class="cardbodyname">review</h1>
            <article class="review">
                <table class="table table-bordered table-hover">
                    <thead>
                        <tr>
                            <th>제목</th>
                            <th>내용</th>
                            <th>글쓴이</th>
                        </tr>
                    </thead>
                    <tbody class="content">

                    </tbody>
                </table>
                
                
            </article>
        </section>
        
    </section>
    <footer>
       @iwantyun
    </footer>

    <!-- The core Firebase JS SDK is always required and must be listed first -->


<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
     <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-app.js"></script>
     <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-database.js"></script>
     <script>
    // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBwfkEz3R1kMrxK5lgabYM4sCy3ncr3zoM",
            authDomain: "milkkk.firebaseapp.com",
            databaseURL: "https://milkkk.firebaseio.com",
            projectId: "milkkk",
            storageBucket: "milkkk.appspot.com",
            messagingSenderId: "318726758078",
            appId: "1:318726758078:web:c4403540a789666b4b48ef"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        
        function writeNewPost(title, body, name) {
            // A post entry.
            var postData = {
                name,
                title,
                body,
                
            };

            // Get a key for a new Post.
            // var newPostKey = firebase.database().ref().child('posts').push().key;
            const newPostKey = firebase.database().ref().child('posts').push(postData);

            // Write the new post's data simultaneously in the posts list and the user's post list.
            // var updates = {};
            // updates['/posts/' + newPostKey] = postData;
            // updates['/user-posts/' + uid + '/' + newPostKey] = postData;

            // return firebase.database().ref().update(updates);
        }
        function getPosts(){
            
            const postRef = firebase.database().ref('/posts/').once('value',function(snapshot){
                const postData = Object.entries(snapshot.val());

                let tableContent = document.querySelector(".content");
                

                for(let i=0; i<postData.length;i++){
                    const[key,body]=postData[i];
                    tableContent.innerHTML += "<tr><td>" + body.title + "</td><td>" + body.body + "</td><td>" + body.name + "</td> <tr>"
            
                }
            });
            return;
        }
        getPosts();

     </script>

 

</body>


</html>